game_studios
  studio_id		pk
  studio_name

games
  game_id		pk
  studio_id		fk
  game_name
  game_price
  game_desc
  game_cover

order_details
  order_detail_id	pk
  order_id		fk
  game_id		fk

orders
  order_id		pk
  customer_id		fk
  order_total
  order_date

customer_games
  customer_id		pk/fk
  game_id		pk/fk

customers
  customer_id		pk
  email
  password

notes:
when customer orders successfully the download button on the game page is unlocked
customers.customer_id is incrementing on unsuccessful registration
register page shows password in source on failed registration (because sticky)
bold password format requirements on the register page
validation!!!
try changing session ids across pages
set session expiration across pages

register
http://localhost/php-scripts/ch16-exercises/16.2/
http://localhost/php-scripts/ch09-exercises/9.5/

login
http://localhost/php-scripts/ch15-exercises/15.8-15.10/
http://localhost/php-scripts/ch12-pursue/htdocs/
http://localhost/php-scripts/ch12-exercises/12.12-12.13/

^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&'])[^ ]{8,}$

[A-Za-z0-9!@#$%^&]{8,}

preg_match("/[A-Za-z0-9!@#$%^&]{8,}/", $input_line, $output_array);

login process:
load login page
  on submit
    if incomplete, reload form
    else send to db

      else start session, store authorization cookie

start session
check if session[userid/token] is set
  user is logged in // do something ?? redirect ??
check if username and pass vars are not set
  if not set generate error
check if username is correct length
  if not correct generate error
check if password is correct length
  if not correct generate error
confirm username is alphanumeric
  if not valid generate error
confirm password is alphanumeric
  if not valid generate error
else no previous triggers
  get username and password with filtervar filtersanitizestring(check on other filters)
  encrypt password w/ sha1
  include db connection
  prepare statement
  bind params
  execute
  store/fetch result
  test if result was not set
    if not set generate error
  else store session[userid/token](user agent??) and redirect user to mygames/login success



SELECT customers.email FROM customers WHERE customers.email="" AND customers.pass=SHA1('');

 elseif (isset($_SESSION['agent']) && md5($_SERVER['HTTP_USER_AGENT']) != $_SESSION['agent']) {
	// attempt to access page with invalid session information
	// log user out
	// destroy session
	redirect_user(); // to login.php
}

($_SESSION['agent'] != md5($_SERVER['HTTP_USER_AGENT']))